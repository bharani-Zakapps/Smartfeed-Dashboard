import{a as A}from"./chunk-M2TQABCL.js";import{a as w,b as C}from"./chunk-HJFUKHZ3.js";import"./chunk-Q4CPHRBT.js";import{$ as d,D as n,Db as y,Fa as h,H as a,P as l,eb as D,fa as c,va as u,wa as f,xa as m,ya as g,yb as b,zb as v}from"./chunk-O3SYT5Q2.js";import"./chunk-2VMXMS7J.js";var i=class r{http=a(v);clientContext=a(A);baseUrl=D(()=>{let e=this.clientContext.client();if(!e)throw new Error("Client not resolved yet");return`/api/seo/${e}`});get(e,t){return this.http.get(`${this.baseUrl()}${e}`,{params:new b({fromObject:t})})}post(e,t){return this.http.post(`${this.baseUrl()}${e}`,t)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};var o=class r{api=a(i);getDepartments(){return this.api.get("/department")}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};var x=class r{departmentApi=a(o);route=a(y);currentValue=0;currentHighValue;columns=["Department","Sep % \u2193","Aug %","Jul %","Jun %","May %","Apr %","Mar %","Feb %","Jan25 %","Dec %","Nov %","Oct %","Keywords","D/L"];data=[{Department:"Action Figures","Sep %":58.23,"Aug %":67.92,"Jul %":62.45,"Jun %":30.54,"May %":58.23,"Apr %":67.92,"Mar %":62.45,Keywords:205,"D/L":"images/download.png"},{Department:"Dolls & Soft Toys","Sep %":58.23,"Aug %":67.92,"Jul %":62.45,"Jun %":30.54,"May %":49.17,"Apr %":53.41,"Mar %":47.88,Keywords:92,"D/L":"images/download.png"}];data1=l([]);loading=l(!1);ngOnInit(){this.route.paramMap.subscribe(()=>{this.loadDepartments()})}loadDepartments(){this.loading.set(!0),this.departmentApi.getDepartments().subscribe({next:e=>this.data1.set(e),error:e=>console.error("Department API error",e),complete:()=>this.loading.set(!1)})}handleChildValue(e,t){this.currentValue=e,this.currentHighValue=t,console.log("Received value from child",e,"High value:",t)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=c({type:r,selectors:[["app-department"]],decls:3,vars:2,consts:[[1,"m-5","px-7","py-10","shadow-[0_0_15px_0_#0000000D]","bg-white","flex","flex-col","gap-5","rounded-md"],[3,"childValueChange"],[3,"displayedColumns","tableData"]],template:function(t,p){t&1&&(f(0,"div",0)(1,"app-slider",1),h("childValueChange",function(s){return p.handleChildValue(s.value,s.highValue??s.value)}),m(),g(2,"app-table",2),m()),t&2&&(d(2),u("displayedColumns",p.columns)("tableData",p.data))},dependencies:[w,C],encapsulation:2})};export{x as Department};
